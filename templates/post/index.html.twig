{% extends 'layout.html.twig' %}

{% block title %}{{ parent() }}{% endblock %}

{% block body %}
	<div class="pt-3 container">
		<div class="d-flex pb-3 pt-5 justify-content-end">
			<a class="btn btn-primary mt-3" href="{{ path('post_new') }}">+ Nouveau Post</a>
		</div>
		<div class="m-3 pb-3 row row-cols-1 row-cols-md-3 g-4">
			{% for post in posts %}
				<div class="col">
                    <div class="data-card shadow bg-secondary rounded-5 p-0 m-0 post">
						<img src="{{ vich_uploader_asset(post) }}" class="card-img-top post-image" alt="...">
						<div class="d-flex justify-content-between card-body">
							<div>
								<h5 class="card-title">
                                    <a href="{{ path('user_show', {id: post.user.id}) }}" style="text-decoration:none">
                                        {{ post.user.firstname }}
                                    </a>
                                </h5>
								<p class="pt-2 card-text">{{ post.description }}</p>
							</div>
						</div>
						<a href="{{ path('post_edit', {id: post.id}) }}" class="d-flex justify-content-center btn mw-80 btn-primary my-3 mx-3">Modifier</a>
					</div>
				</div>
			{% else %}
				<p>Pas de rider en vue !</p>
			{% endfor %}
		</div>
	</div>
{% endblock %}
